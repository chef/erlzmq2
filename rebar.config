{erl_opts, [debug_info, warnings_as_errors]}.

{port_env,
 [{"DRV_LDFLAGS","deps/lib/libzmq.a -L$ZEROMQ_PREFIX/lib -Ldeps/local/lib -lsodium -lzmq -shared $ERL_LDFLAGS -lstdc++"},
  {"darwin", "DRV_LDFLAGS", "deps/zeromq4/src/.libs/libzmq.a -lsodium -lzmq -bundle -flat_namespace -undefined suppress $ERL_LDFLAGS"},
  {"DRV_CFLAGS","-Ic_src -I$ZEROMQ_PREFIX/include -Ideps/local/include -g -Wall -fPIC $ERL_CFLAGS"}]}.

{port_specs, [{"priv/erlzmq_drv.so", ["c_src/*.c"]}]}.

{pre_hooks,[{compile,"make -C c_src"},
            {clean, "make -C c_src clean"}]}.
